KUBERNETES :

```

  
kubernetes cluster: 
master node : management pods
worker nodes : my application pods

kubectl run : master



kube cluster from scratch
kubeadm : helps to create a kube cluster : full control on my master as well worker
aws (eks)/gcp (gks)/azure (aks) : managed clusters : without control of master


3 servers :

1 master : t2.medium : 
2 worker nodes : t2.micro : free tier 



Software Image (AMI)
Ubuntu Server 20.04 LTS (HVM)

Virtual server type (instance type)
t2.medium (only for master node)
t2.micro (only for worker nodes)

Firewall (security group)
raman-synechron-sg (all ports open)

Storage (volumes)
1 volume(s) - 20 GiB




#!/bin/bash
sudo echo -e "Tech@2020\nTech@2020" | passwd root;
sudo cp -p /etc/ssh/sshd_config /etc/ssh/sshd_config_backup;
sudo sed -i 's/^PasswordAuthentication.*/PasswordAuthentication yes/' /etc/ssh/sshd_config;
sudo sed -i 's/^PermitRootLogin*/PermitRootLogin yes/' /etc/ssh/sshd_config;
sudo echo "PermitRootLogin yes" >> /etc/ssh/sshd_config;
sudo systemctl restart sshd;
sudo systemctl stop firewalld;
sudo systemctl disable firewalld;







---------
after creation : login :

ssh root@publicip



hostnamectl set-hostname master
bash


```

```
==============================================


10.0.0.0/24

32-24 : 8

2 raise to power 8




script :

on master : full script
make a note of the join command..

on worker nodes : not full script

till .....iptables=1



---

run the join command on both wrker nodes 

----
clear
    2  ls
    3  vi script
    4  l
    5  sh script
    6  kubectl
    7  kubectl get nodes
    8  kubectl get nodes -o wide

```

```

kubectl get nodes
    8  kubectl get nodes -o wide
    9  history
   10  clear
   11  alias k=kubectl
   12  clear
   13  k get nodes
   14  k get pod
   15  k get pods
   16  k get pods -A
   17  k get pods
   18  k get pods -A -o wide
   19  clear
   20  k get pods -A -o wide
   21  docker ps
   22  clea
   23  clear
   24  k get pods -A -o wide
   25  clea
   26  clear
   27  k get pods -A
   28  k get pods
   29  clear
   30  k get pods -A | grep -i master
   31  k get pods -A | grep -i worker1
   32  k get pods -A
   33  clear
   34  k get pods -A -o wide | grep -i master
   35  k get pods -A -o wide | grep -i worker2
   36  k get pods -A -o wide | grep -i worker1
   37  clear
   38  k run ramanapp --image httpd
   39  k get pods
   40  k get pods -o wide
   41  clear
   42  k get pods -o wide
   43  curl 192.168.189.65
   44  k get pods
   45  k get pods -A
   46  clear
   47  k get pods
   48  k delete pod ramanapp
   49  k get pods
   50  k run ramanapp --image nginx
   51  k get pods
   52  k get pods -o wide

```
